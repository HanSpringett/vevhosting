(()=>{(window.vevr||(window.vevr=[])).push(function(Te,pe,ce){pe.register("gEJidNxqGs",["react","vev"],function(Z){"use strict";var c,A,f;return{setters:[function(_){c=_.useRef,A=_.useEffect},function(_){f=_.useEditorState}],execute:function(){Z("wWNWbdOWGT5",_);function _({dir:P,className:q,space:O,children:U,hostRef:ie}){const{disabled:Y}=f(),N=c(null);return A(()=>{if(!Y){const W=N.current,ee=()=>{const{left:B,width:E}=ie.current.getBoundingClientRect();if(P==="full"){let te=-B;W.style.width=`${window.innerWidth-O*2}px`,te+=O,W.style.transform=`translateX(${te}px)`}else{let te=-B;P==="right"?te+=window.innerWidth-(E+O):te+=O,W.style.transform=`translateX(${te}px)`}};return window.addEventListener("resize",ee),ee(),()=>{window.removeEventListener("resize",ee),W.style.transform=null,W.style.width=null}}},[Y,P,O]),ce.createElement("div",{className:q,ref:N},U)}}}}),pe.register("basic",["react","vev","animejs"],function(Z){"use strict";var c,A,f,_,P,q,O,U,ie,Y,N,W,ee,B,E,te,fe,re,J,G;return{setters:[function(C){c=C.useCallback,A=C.useRef,f=C.useEffect,_=C.default,P=C.Fragment,q=C.useState},function(C){O=C.useGlobalStore,U=C.Tracking,ie=C.Link,Y=C.Image,N=C.Icon,W=C.useHover,ee=C.useVisible,B=C.useEditorState,E=C.View,te=C.useRoute,fe=C.useScrollTop,re=C.useViewport,J=C.useDevice},function(C){G=C.default}],execute:function(){Z({"external-link":se,frame:me,image:de,shape:he,w74dqar7:X,w75y8u1c:d});var C=Z("circle",()=>!1);function ne(e){var g,v,w;let n="";switch(e.mode){case 0:e.page!==""?n=((g=e==null?void 0:e.page)==null?void 0:g.title)||e.page:n="Unlinked page";break;case 1:if(e.widget){const{key:k,name:p,page:H,pageName:V}=e.widget;n=p+", "+V}else n="Unlinked page";break;case 2:n=(e==null?void 0:e.href)||"empty link";break;case 3:e.email!==""?n=e.email+"?subject"+e.subject:n="empty email: ";break;case 4:n=e.phone||"empty phone";break;case 5:((v=e==null?void 0:e.file)==null?void 0:v.url)!==""?n=(w=e==null?void 0:e.file)==null?void 0:w.url:n="empty phone: ";break}return n}function se({link:e,children:n,className:g}){const v=O(k=>k.pages),w=c(k=>{U.send("vev","link-button","click",ne(e))},[e,v]);return ce.createElement(ie,{onClick:w,className:g,to:e},n)}function me(){return null}function de(e){return e.section&&(e.className="section"),ce.createElement(Y,Object.assign({},e))}var le=Z("rectangle",()=>null),Ee=Z("section",()=>ce.createElement("div",{className:"children __sc"}));function he({shapeId:e,stretch:n}){return ce.createElement(N,{d:e,stretch:n})}var ge=Z("text",({text:e})=>ce.createElement("div",{className:"__stagger",id:"",dangerouslySetInnerHTML:{__html:e}}));function ye(e){const n=e.split("/");return n[n.length-1].split(".")[0]}function X({hostRef:e,video:n,loop:g,infiniteLoop:v,loopAmount:w,mute:k,controls:p,fill:H,playOnHover:V=!1,startVisible:S,noContextMenu:T,noTracking:R,thumbnail:D,preload:I,section:x}){const h=A(),m=A({current:0,maxProgress:0}),[j,F]=W(),a=ee(h),{disabled:t}=B(),s=A(1);let u=1;f(()=>{const l=h.current;if(console.log("visible: ",a),R||!l||!n)return;const ve=["play","pause","ended","timeupdate"],ue=Q=>{const oe=h.current;if(!oe)return;const ae=(n==null?void 0:n.name)||ye(n.sources[0].url)||"";switch(Q.type){case"timeupdate":const Ae=Math.round(100*oe.currentTime/oe.duration),we={current:Ae,maxProgress:Math.max(Ae,m.current.maxProgress)};Ae>m.current.maxProgress&&K("Video Progress",ae,m.current.maxProgress),oe.currentTime>u*oe.duration/5&&(K(`Video Progress ${u*20}`,ae),u++),m.current.current=we.current,m.current.maxProgress=we.maxProgress;break;case"play":return K("Play",ae);case"pause":return K("Pause",ae,m.current.current);case"ended":return K("Finished",ae)}};return ve.forEach(Q=>l&&l.addEventListener(Q,ue,!1)),()=>ve.forEach(Q=>l&&l.removeEventListener(Q,ue))},[n,R,a]),f(()=>{const l=h.current;!l||(t?(s.current=1,l.load(),l.pause()):l.readyState>=3&&(a?a&&S&&(l.muted=!0,l.play()):(l.pause(),s.current=1)))},[a,S,t,n]);const y={};v&&g&&(y.loop=!0),S&&(y.autoPlay=!0),k&&(y.muted=!0),p&&(y.controls=!0),E.isIE&&(y.className="ie"),f(()=>{const l=h.current;V&&l&&(j?l.play():l.pause())},[V,j]),f(()=>{const l=h.current;!l||(l.style.objectFit=H?"cover":"contain")},[H,h.current]);const L=()=>{s.current<w&&(h.current.currentTime=0,h.current.play(),s.current++)};return f(()=>{if(h.current)return h.current.addEventListener("ended",L),()=>{h.current&&h.current.removeEventListener("ended",L)}},[h.current,w]),x&&(y.className=(y.className||"")+" section"),_.createElement(P,null,!n&&_.createElement("div",{className:"fill row v-center h-center",style:{color:"white"}},_.createElement("h3",null,"Double-click to select video")),_.createElement("video",Object.assign({},F,{ref:h,onContextMenu:l=>T&&l.preventDefault(),"aria-label":(n==null?void 0:n.name)||"",full:!0,playsInline:!0,disableRemotePlayback:!0,poster:D&&D.url?D.url:n&&n.thumbnail,preload:I},y),n&&n.sources&&n.sources.sort(l=>l.format==="video/webm"?-1:1).map(l=>_.createElement("source",{key:l.url,src:l.url,type:l.format||"video/mp4"})),"Your browser does not support this video"),_.createElement("div",{className:"overlay"}))}function K(e,n,g,v){U.send("video","HTML5 Video",e,n,g,v)}const be={opacity:0};function d({className:e,children:n,cont:g,hostRef:v}){const w=ee(v),k=A(null),p=A(null),H=A(null),V=A(null),[S,T]=W(),[R,D]=q(!1),{pageKey:I}=te(),{disabled:x,selected:h}=B(),m=fe(),{height:j}=re(),F=J(),a=g&&g[F]&&g[F].params||{},t=A({ClickAnimation:null,HoverAnimation:null,ScrollAnimation:null,LoadAnimation:null}),s=A(null),u=A(I);f(()=>{k.current&&(k.current.style.opacity=null)}),f(()=>{x||we(),t.current.ScrollAnimation&&a.ScrollAnimation&&ue(a.ScrollAnimation);const i=Se();return()=>{i.widget&&G.remove(i.widget),i.stagger&&G.remove(i.stagger),i.animation&&G.remove(i.animation)}},[]),f(()=>{!a||s&&a.updated&&s.current===a.updated||(s.current=a.updated,Object.keys(t.current).forEach(i=>l(i)),we(),x&&h?L(a.trigger+"Animation"):H.current!==F&&(L(a.trigger+"Animation"),H.current=F))},[a]),f(()=>{!a||(Object.keys(t.current).forEach(i=>l(i)),x||we(),t.current.LoadAnimation&&w&&L("LoadAnimation"),t.current.ScrollAnimation&&w&&!x&&ue(a.ScrollAnimation),x&&R&&D(!1))},[x,F]),f(()=>{!a||(x&&h?L(a.trigger+["Animation"]):x&&!h&&l(a.trigger+["Animation"]))},[h]),f(()=>{!a||!t.current.LoadAnimation||(w?L("LoadAnimation"):a.LoadAnimation.once||l("LoadAnimation"))},[w]),f(()=>{!a||!t.current.HoverAnimation||L("HoverAnimation",!S)},[S]),f(()=>{!a||!t.current.ScrollAnimation||x||ue(a.ScrollAnimation)},[m]),f(()=>{!a||!t.current.ClickAnimation||L("ClickAnimation",!R)},[R]),f(()=>{var i;((i=a==null?void 0:a.HoverAnimation)==null?void 0:i.triggers)&&I!==u.current&&(Q("HoverAnimation",a.HoverAnimation.triggers),u.current=I)},[I,a]);const y=i=>{if(!a[i])return;const o=a[i],b=G.timeline({autoplay:!1,delay:Ne(a[i])}),M=Se();let $={targets:o.stagger?M.stagger:M==null?void 0:M.animation,easing:o.easing||"linear"},z={targets:o.stagger?M.stagger:M==null?void 0:M.widget,easing:o.easing||"linear"};z.duration=$.duration=o.duration?Math.max(o.duration,1e-4)*1e3:1e3,o.opacity&&($.opacity=o.opacity),o.scale&&($.scale=o.scale),o.move&&o.move[0]!=="0px"&&($.translateY=o.move[0]),o.move&&o.move[1]!=="0px"&&($.translateX=o.move[1]),o.translateX&&($.translateX=[o.translateX[0],o.translateX[1]]),o.translateY&&($.translateY=[o.translateY[0],o.translateY[1]]),o.rotate&&($.rotate=[0,o.rotate]),$.rotate3d=[],o.color&&(z.color=r(o.color)),o.background&&(z.backgroundColor=r(o.background)),o.border&&(z["border-radius"]=[o.border[0],o.border[1]]),(o.color||o.background||o.border)&&b.add({...z}),b.add({...$}),t.current[i]=b,o.triggers&&Object.keys(o.triggers).length&&setTimeout(()=>Q(i,o.triggers),100),x&&!h&&xe()},L=(i,o)=>{const b=t.current[i];x&&!h||!b||b.began&&!b.complete&&o===void 0||(a[i]&&a[i].loop&&(b.complete=()=>{b.reverse(),b.completed=!1,b.play()}),He(b,o)&&(b.began&&b.pause(),o!==void 0&&b.reversed!==o&&(b.reverse(),b.completed=!1),b.play()))},l=i=>{if(!!t.current[i]){if(!a[i])return ve(i);t.current[i].pause(),t.current[i].reversed&&t.current[i].reverse(),t.current[i].seek(0),t.current[i].complete=null,t.current[i].began=!1,i==="HoverAnimation"&&(p.current&&ae(),ke(i)&&Q(i,a[i].triggers)),i==="ClickAnimation"&&(V.current&&Ae(),ke(i)&&Q(i,a[i].triggers)),x&&xe()}},ve=i=>{t.current[i].pause(),t.current[i].seek(0),t.current[i]=null;const o=Se();o!=null&&o.widget&&G.remove(o==null?void 0:o.widget),o!=null&&o.stagger&&G.remove(o==null?void 0:o.stagger),o!=null&&o.animation&&G.remove(o==null?void 0:o.animation),xe()},ue=i=>{if(!i)return;const o=t.current.ScrollAnimation,b=i.scrollOffsetStart?i.scrollOffsetStart:0,M=i.scrollOffsetEnd?i.scrollOffsetEnd:0;let $;v.current.classList.contains("__f")||v.current.classList.contains("__pp")?$=(m+b)/(j-M+b):($=Ce(i.event,b,M),$=o.duration/1e3-$);let z=o.duration*$;z<0&&w&&(z=.01),o.seek(z)},Q=c((i,o)=>{const b=[],M=[];Object.values(o).forEach($=>{const z=v.current.getRootNode().getElementById(($==null?void 0:$.key)||$);z&&(i==="ClickAnimation"?(z.addEventListener("click",oe),z.style.cursor="pointer",M.push(z)):i==="HoverAnimation"&&(z.addEventListener("mouseenter",T.onMouseEnter),z.addEventListener("mouseleave",T.onMouseLeave),b.push(z)))}),p.current=b,V.current=M},[v,p,V]),oe=()=>{const i=t.current.ClickAnimation;if(!i.began)return i.play();i.reverse(),i.completed=!1,i.began=!1,i.play()},ae=()=>{p.current&&p.current.forEach(i=>{i.removeEventListener("mouseleave",T.onMouseLeave),i.removeEventListener("mouseenter",T.onMouseEnter)})},Ae=()=>{V.current&&V.current.forEach(i=>{i.removeEventListener("click",oe),i.style.cursor=null})},we=()=>{!a||Object.keys(t.current).forEach(i=>a[i]&&y(i))},ke=i=>!(!a||!a[i]||!a[i].triggers||!Object.keys(a[i].triggers).length),xe=()=>{if(!v.current)return;const i=Se();i.animation&&i.animation.removeAttribute("style"),i.widget&&i.widget.removeAttribute("style"),i.stagger&&[].forEach.call(i.stagger,o=>o&&o.removeAttribute("style"))},Ne=i=>{const o=Math.max(i.delay,0);return i.stagger?G.stagger(i.stagger[0]*1e3,{start:o*1e3,from:i.stagger[1]}):o*1e3},Ce=(i,o,b)=>{const M=v.current.getBoundingClientRect(),$=Math.abs(j-b<M.height?b+(j-b-M.height):b);if(M.height>j*.8)return t.current.ScrollAnimation.duration/1e3+(M.top-b)/(M.height/2+o-b);if(i==="bot")return(M.bottom-M.height-$)/(j-M.height+o-$);if(i==="top")return(M.top-b)/(M.height+o-b);if(i==="mid")return(M.top-b)/((j-M.height)/2+o-b)},Se=()=>{if(!v.current)return;let i,o,b;if(i=v.current.querySelector(".__wc"),!!i)return o=i&&i.querySelector("w"),b=v.current.classList.contains("__text")?i.querySelectorAll("w div > *"):i.querySelectorAll(".__c vev .__wc w:not(.frame)"),{animation:i,widget:o,stagger:b}},He=(i,o)=>!(o&&i.currentTime===0||o===!1&&i.currentTime===i.duration);let Le;return!x&&a&&(a.LoadAnimation||a.ScrollAnimation)&&(Le=be),ce.createElement("div",{className:e,style:Le,onClick:!ke("ClickAnimation")&&(()=>D(!R)),onMouseEnter:!ke("HoverAnimation")&&T.onMouseEnter,onMouseLeave:!ke("HoverAnimation")&&T.onMouseLeave,ref:k},n)}const r=e=>`rgba(${[e.r,e.g,e.b,e.a].toString()}`}}}),pe.register("YPXcb_7Y0w",["react","vev","animejs"],function(Z){"use strict";var c,A,f,_,P,q,O,U,ie,Y;return{setters:[function(N){c=N.useRef,A=N.useState,f=N.useEffect},function(N){_=N.useVisible,P=N.useHover,q=N.useEditorState,O=N.useScrollTop,U=N.useViewport,ie=N.useDevice},function(N){Y=N.default}],execute:function(){Z("wFynYMEB_7I",W);var N={opacity:0};function W(B){var E=B.className,te=B.children,fe=B.cont,re=B.hostRef;c(null),c(null);var J=_(re),G=c(null),C=c(null),ne=c(null),se=c(null),me=P(),de=me[0],le=me[1],Ee=A(!1),he=Ee[0],ge=Ee[1],ye=q(),X=ye.disabled,K=ye.selected,be=O(),d=U().height,r=ie(),e=fe&&fe[r]&&fe[r].params||{},n=c({ClickAnimation:null,HoverAnimation:null,ScrollAnimation:null,LoadAnimation:null}),g=c(null);f(function(){G.current&&(G.current.style.opacity=null)}),f(function(){X||D(),n.current.ScrollAnimation&&e.ScrollAnimation&&H(e.ScrollAnimation);var t=j();return function(){t.widget&&Y.remove(t.widget),t.stagger&&Y.remove(t.stagger),t.animation&&Y.remove(t.animation)}},[]),f(function(){!e||g&&e.updated&&g.current===e.updated||(g.current=e.updated,Object.keys(n.current).forEach(function(t){return k(t)}),D(),X&&K?w(e.trigger+"Animation"):ne.current!==r&&(w(e.trigger+"Animation"),ne.current=r))},[e]),f(function(){!e||(Object.keys(n.current).forEach(function(t){return k(t)}),X||D(),n.current.LoadAnimation&&J&&w("LoadAnimation"),n.current.ScrollAnimation&&J&&!X&&H(e.ScrollAnimation),X&&he&&ge(!1))},[X,r]),f(function(){!e||(X&&K?w(e.trigger+["Animation"]):X&&!K&&k(e.trigger+["Animation"]))},[K]),f(function(){!e||!n.current.LoadAnimation||(J?w("LoadAnimation"):e.LoadAnimation.once||k("LoadAnimation"))},[J]),f(function(){!e||!n.current.HoverAnimation||w("HoverAnimation",!de)},[de]),f(function(){!e||!n.current.ScrollAnimation||X||H(e.ScrollAnimation)},[be]),f(function(){!e||!n.current.ClickAnimation||w("ClickAnimation",!he)},[he]);var v=function(t){if(!!e[t]){var s=e[t],u=Y.timeline({autoplay:!1,delay:h(e[t])}),y=j(),L={targets:s.stagger?y.stagger:y.animation,easing:s.easing||"linear"},l={targets:s.stagger?y.stagger:y.widget,easing:s.easing||"linear"};l.duration=L.duration=s.duration?Math.max(s.duration,1e-4)*1e3:1e3,s.opacity&&(L.opacity=s.opacity),s.scale&&(L.scale=s.scale),s.move&&s.move[0]!=="0px"&&(L.translateY=s.move[0]),s.move&&s.move[1]!=="0px"&&(L.translateX=s.move[1]),s.translateX&&(L.translateX=[s.translateX[0],s.translateX[1]]),s.translateY&&(L.translateY=[s.translateY[0],s.translateY[1]]),s.rotate&&(L.rotate=[0,s.rotate]),L.rotate3d=[],s.color&&(l.color=ee(s.color)),s.background&&(l.backgroundColor=ee(s.background)),s.border&&(l["border-radius"]=[s.border[0],s.border[1]]),(s.color||s.background||s.border)&&u.add(__assign({},l)),u.add(__assign({},L)),n.current[t]=u,s.triggers&&Object.keys(s.triggers).length&&setTimeout(function(){return V(t,s.triggers)},100),X&&!K&&x()}},w=function(t,s){var u=n.current[t];X&&!K||!u||u.began&&!u.complete&&s===void 0||(e[t]&&e[t].loop&&(u.complete=function(){u.reverse(),u.completed=!1,u.play()}),F(u,s)&&(u.began&&u.pause(),s!==void 0&&u.reversed!==s&&(u.reverse(),u.completed=!1),u.play()))},k=function(t){if(!!n.current[t]){if(!e[t])return p(t);n.current[t].pause(),n.current[t].reversed&&n.current[t].reverse(),n.current[t].seek(0),n.current[t].complete=null,n.current[t].began=!1,t==="HoverAnimation"&&(C.current&&T(),I(t)&&V(t,e[t].triggers)),t==="ClickAnimation"&&(se.current&&R(),I(t)&&V(t,e[t].triggers)),X&&x()}},p=function(t){n.current[t].pause(),n.current[t].seek(0),n.current[t]=null;var s=j();s.widget&&Y.remove(s.widget),s.stagger&&Y.remove(s.stagger),s.animation&&Y.remove(s.animation),x()},H=function(t){if(!!t){var s=n.current.ScrollAnimation,u=t.scrollOffsetStart?t.scrollOffsetStart:0,y=t.scrollOffsetEnd?t.scrollOffsetEnd:0,L;re.current.classList.contains("__f")||re.current.classList.contains("__pp")?L=(be+u)/(d-y+u):L=m(t.event,u,y);var l=s.duration*L;l<0&&J&&(l=.01),s.seek(l)}},V=function(t,s){var u=[],y=[];Object.values(s).forEach(function(L){var l=document.getElementById(L&&L.key||L);l&&(t==="ClickAnimation"?(l.addEventListener("click",S),l.style.cursor="pointer",y.push(l)):t==="HoverAnimation"&&(l.onmouseenter=le.onMouseEnter,l.onmouseleave=le.onMouseLeave,u.push(l)))}),C.current=u,se.current=y},S=function(){var t=n.current.ClickAnimation;if(!t.began)return t.play();t.reverse(),t.completed=!1,t.began=!1,t.play()},T=function(){C.current&&C.current.forEach(function(t){t.onmouseenter=function(){return!1},t.onmouseleave=function(){return!1}})},R=function(){se.current&&se.current.forEach(function(t){t.removeEventListener("click",S),t.style.cursor=null})},D=function(){!e||Object.keys(n.current).forEach(function(t){return e[t]&&v(t)})},I=function(t){return!(!e||!e[t]||!e[t].triggers||!Object.keys(e[t].triggers).length)},x=function(){if(!!re.current){var t=j();t.animation&&t.animation.removeAttribute("style"),t.widget&&t.widget.removeAttribute("style"),t.stagger&&[].forEach.call(t.stagger,function(s){return s&&s.removeAttribute("style")})}},h=function(t){var s=Math.max(t.delay,0);return t.stagger?Y.stagger(t.stagger[0]*1e3,{start:s*1e3,from:t.stagger[1]}):s*1e3},m=function(t,s,u){var y=re.current.getBoundingClientRect(),L=y.top/d;if(y.height>d*.8){var l=n.current.ScrollAnimation.duration/1e3;return l+(y.top-u)/(y.height/2+s-u)}else if(t==="bot"){var ve=Math.max(0,d/y.bottom);return Math.max(0,(d+s*ve)/(y.bottom+s*ve-u))}else if(t==="top"){var ue=y.height/2*L,Q=y.top+ue+s*L-u,oe=d-y.height/2-u;return 1-Math.max(0,Q/oe)}else if(t==="mid"){var ae=d/2,ue=(y.top+y.height/2-ae)/(d-y.height/2-ae),Q=y.top+y.height/2+s*ue-ae-u,oe=d-y.height/2-ae-u;return 1-Math.max(0,Q/oe)}},j=function(){if(!!re.current){var t,s,u;return t=re.current.querySelector(".__wc"),s=t&&t.querySelector("w"),u=re.current.classList.contains("__text")?t.querySelectorAll("w div > *"):t.querySelectorAll(".__c vev .__wc w:not(.frame)"),{animation:t,widget:s,stagger:u}}},F=function(t,s){return!(s&&t.currentTime===0||s===!1&&t.currentTime===t.duration)},a;return!X&&e&&(e.LoadAnimation||e.ScrollAnimation)&&(a=N),ce.createElement("div",{className:E,style:a,onClick:!I("ClickAnimation")&&function(){return ge(!he)},onMouseEnter:!I("HoverAnimation")&&le.onMouseEnter,onMouseLeave:!I("HoverAnimation")&&le.onMouseLeave,ref:G},te)}var ee=function(B){return"rgba("+[B.r,B.g,B.b,B.a].toString()}}}}),pe.register("scrollyteller",["react","vev","animejs"],function(Z){"use strict";var c,A,f,_,P,q,O,U,ie,Y,N,W,ee,B;return{setters:[function(E){c=E.default,A=E.useRef,f=E.useEffect,_=E.useLayoutEffect,P=E.Fragment,q=E.useState},function(E){O=E.View,U=E.useEditorState,ie=E.useHover,Y=E.Tracking,N=E.raf,W=E.Icon,ee=E.useFrame},function(E){B=E.default}],execute:function(){Z({"wQwq0xf-9u":ye,wUNTsB8PHK:X,"wgT9kyli-m":be});var E;(function(d){d[d.hidden=0]="hidden",d[d.active=1]="active",d[d.showing=2]="showing"})(E||(E={}));class te{constructor(r){this.isPinned=!1,this.isOverlayPinned=!1,this.isShowing=!1,this.isActive=!1,this.top=0,this.height=0,this.bottom=0,this.offset=0,this.completed=!1,this.scrollBg=!1,this.handleComplete=()=>{this.completed=!0,this.complete&&this.complete(this)},this.container=r.container,this.content=r.content,this.overlay=r.overlay,this.scrollBg=r.scrollBg||!1,this.active=r.active,this.ani=B({targets:[this.content,this.overlay],opacity:[0,1],duration:r.duration||350,easing:r.easing||"linear",autoplay:!1})}state(){return this.isShowing&&this.isActive?E.showing:this.isActive?E.active:E.hidden}emitState(){this.active&&this.active(this.state())}debug(){this.debugging=!0,this.debugEl||(this.debugEl=document.createElement("div"),this.debugEl.setAttribute("style","position:fixed;bottom:0;left:0;background:white;z-index:10000;padding:3px;font-size:10px")),this.container.append(this.debugEl),this.debugEl.style.width=this.content.clientWidth+"px",this.debugEl.style.left=this.content.offsetLeft+"px",this.debugEl.innerHTML=`State: ${this.state()}`}setActive(r){this.isActive!==r&&(this.debugging&&this.debug(),this.isActive=r,this.emitState())}setContentHeight(r){if(this.scrollBg){let e=this.container.getBoundingClientRect().height;this.contentHeight=e}else r!==this.contentHeight&&(this.contentHeight=r,this.content.style.height=O.zoom===1?"100vh":r+"px")}setOffset(r){this.offset!==r&&(this.offset=r,this.content.style.top=r?`${r}px`:"0")}inView(r){return this.top-r<=0&&this.bottom-r>=window.innerHeight}show(r){this.isShowing||(this.isShowing=!0,this.animate(!1,r),this.emitState()),r&&this.setActive(!0)}hide(r){this.isShowing&&(this.isShowing=!1,this.animate(!0,r)),r&&this.setActive(!1)}animate(r,e=!1){this.ani.pause(),r!==this.ani.reversed&&this.ani.reverse(),this.ani.began=!1,this.ani.completed=!1,e&&this.ani.seek(this.ani.duration-10),this.ani.play(),this.completed=!1,clearTimeout(this.timeout),this.timeout=setTimeout(this.handleComplete,e?1:this.ani.duration)}setPin(r,e){r!==this.isPinned&&(this.isPinned=r,this.content.style.position=r?"fixed":"absolute",this.content.style.bottom=r||e?"0":"auto",this.content.style.top=!r&&e?"auto":null)}setOverlayPin(r,e){const n=r||e;n!==this.isOverlayPinned&&(this.isOverlayPinned=n,this.overlay.style.position=n?"fixed":"absolute",n?(this.overlay.style.height=this.height+"px",this.overlay.style.top=`${e?-(this.height-window.innerHeight):0}px`):(this.overlay.style.top="0px",this.overlay.style.height="auto"))}update(){const r=(O.rootNodeOffsetTop+this.container.offsetTop)*(O.zoom||1),e=this.scrollBg?this.container.clientHeight*(O.zoom||1):this.container.clientHeight*(O.zoom||1);return this.debugging&&this.debug(),this.top!==r||this.height!==e?(this.top=r,this.height=e,this.bottom=r+e,!0):!1}}function fe(d){const r=d.split("/");return r[r.length-1].split(".")[0]}const re=c.forwardRef((d,r)=>{const{video:e,autoPlay:n,loop:g=!0,mute:v=!0,controls:w,startVisible:k=!0,noTracking:p=!1,thumbnail:H=null,lazy:V=!1}=d,S=A({current:0,maxProgress:0}),T=!0,{disabled:R}=U(),[D,I]=ie();let x=1;if(f(()=>{const m=r.current;if(p||!m||!e)return;const j=["play","pause","ended","timeupdate"],F=a=>{const t=r.current;if(!t)return;const s=e.name||fe(e.sources[0].url);switch(a.type){case"timeupdate":const u=Math.round(100*t.currentTime/t.duration),y={current:u,maxProgress:Math.max(u,S.current.maxProgress)};u>S.current.maxProgress&&J("Video Progress",s,S.current.maxProgress),t.currentTime>x*t.duration/5&&(J(`Video Progress ${x*20}`,s),x++),S.current.current=y.current,S.current.maxProgress=y.maxProgress;break;case"play":return J("Play",s);case"pause":return J("Pause",s,S.current.current);case"ended":return J("Finished",s)}};return j.forEach(a=>m.addEventListener(a,F,!1)),()=>j.forEach(a=>m.removeEventListener(a,F))},[e,p,T]),f(()=>{const m=r.current;!m||(R?(m.load(),m.pause()):m.readyState>=3&&k&&n&&m.play())},[T,k,R]),_(()=>{r.current&&(r.current.setAttribute("autobuffer","true"),v?r.current.setAttribute("muted","true"):r.current.removeAttribute("muted"))},[v]),V&&!T)return null;const h={};return g&&(h.loop=!0),h.autoPlay=!0,w&&(h.controls=!0),e&&e.name&&!D&&(h.title=e.name),(O.isIE||O.isEdge)&&(h.className="ie"),c.createElement(P,null,!e&&c.createElement("div",{className:"fill row v-center h-center",style:{color:"white"}},c.createElement("h3",null,"Double click to select video")),c.createElement("video",Object.assign({ref:r,playsInline:!0,controls:w,muted:v,autobuffer:!0,poster:H&&H.url?H.url:e&&e.thumbnail,preload:"auto"},h,I),e&&e.sources&&e.sources.sort(m=>m.format==="video/webm"?-1:1).map(m=>c.createElement("source",{key:m.url,src:m.url,type:m.format||"video/mp4"})),"Your browser does not support this video"))});function J(d,r,e,n){Y.send("video","HTML5 Video",d,r,e,n)}class G{constructor(r){this.items=r,this.handleComplete=e=>{let n=this.items.indexOf(e);if(e.isShowing)for(;n--;)this.items[n].setActive(!1);else e.setActive(!1)},this.first=this.items[0],this.last=this.items[r.length-1],this.updateSize();for(const e of this.items)e.complete=this.handleComplete;this.showFirstOrLast(O.scrollTop)}debug(){for(let r=0;r<this.items.length;r++)this.items[r].debug(),this.items[r].content.style.width=100/this.items.length+"vw",this.items[r].content.style.marginLeft=r/this.items.length*100+"vw"}inView(r){return this.top-r<=0&&this.bottom-r>=window.innerHeight}unpin(r){for(const e of this.items)e.setOverlayPin(!1,!1),e.setPin(!1,r)}updateSize(){this.first&&this.last&&(this.first.update(),this.last.update(),this.top=this.first.top,this.bottom=this.last.bottom,this.height=this.bottom-this.top)}update(r){this.updateSize();const e=Math.min(window.innerHeight/O.zoom,this.height);for(const v of this.items)v.setContentHeight(e);const n=r+this.height<=this.top,g=r>=this.bottom;if(this.inView(r)){for(const k of this.items)k.top<r+window.innerHeight*.9&&k.setPin(!0);const v=r+window.innerHeight/2,w=r+window.innerHeight*2;for(let k=0;k<this.items.length;k++){const p=this.items[k];p.top<w&&p.bottom>v?p.setActive(!0):!p.isShowing&&p.isActive&&p.setActive(!1),p.top<v?p.show():p.hide(),p.setOverlayPin(p.top>r,p.bottom<r+window.innerHeight)}}else n||g?(this.unpin(g),n?this.first.show(!0):this.last.show(!0)):(this.showFirstOrLast(r),this.unpin(r>this.top))}showFirstOrLast(r){r>this.bottom?this.last.show(!0):this.first.show(!0)}}const C=500,ne=[],se=[];let me=-1e3,de=-1,le;const Ee=(d,r)=>d.top<r.top?-1:1;function he(d){let r=!1;if(d-me>C){me=d;for(const e of ne)e.update()&&(r=!0);if(r){ne.sort(Ee),se.length=0;const e=ne.filter(n=>n.height);for(let n=0;n<e.length;n++){let g=e[n];const v=[g];for(n=n+1;n<e.length;n++){const w=e[n];if(w.top-g.bottom>5){n--;break}g=w,v.push(w)}se.push(new G(v))}}}if(de!==O.scrollTop||r){de=O.scrollTop;for(const e of se)e.update(de)}}function ge(d){const r=new te(d);return ne.push(r),le||(le=N(he,!0)),()=>{ne.splice(ne.indexOf(r),1),ne.length||(le(),le=null)}}window.debugStory=()=>{for(const d of se)d.debug()},window.storyGroups=se,window.storyItems=ne;function ye({hostRef:d,duration:r,mediaType:e,noTracking:n,video:g,videoControls:v,embedUrl:w,noLoop:k,easing:p="linear"}){const[H,V]=q(E.hidden),S=A(null),T=A(null),[R,D]=q(!0),I=A(null),{disabled:x}=U();f(()=>ge({container:d.current,content:S.current,overlay:T.current,active:V,duration:r,easing:p}),[r,p]),f(()=>{H||D(!0)},[H]);const h=F=>{F.stopPropagation(),I.current&&(I.current.currentTime=0),j()},m=F=>{F.stopPropagation(),D(!R),j()},j=()=>{const F=I.current;F&&F.play()};return c.createElement(P,null,c.createElement("div",{ref:S,className:["fixedWrapper fill"].join(" ")},x||H?c.createElement("div",{className:["contents fill"].join(" ")},c.createElement(P,null,v&&c.createElement(P,null,c.createElement("div",{className:"media-controls"},c.createElement(W,{d:R?"mute_icon":"audio_100_icon",onClick:m,className:"mediaIcon audioButton"}),c.createElement(W,{d:"media_restart",onClick:h,className:"mediaIcon restartButton"}))),g&&c.createElement(re,{video:g,mute:R,loop:!k,autoPlay:H===E.showing,controls:!1,noTracking:n,ref:I}),!g&&c.createElement("div",{className:"no-image fill row center-center"},c.createElement("h3",null,"Please select a video")))):c.createElement(P,null)),c.createElement("div",{className:"fill overlay",ref:T}))}function X({hostRef:d,duration:r,zoom:e,scrollBg:n=!1,speed:g,easing:v="linear"}){const[w,k]=q(E.hidden),p=A(null),H=A(null),V=A(null),{disabled:S}=U();return f(()=>ge({container:d.current,content:p.current,overlay:V.current,active:k,duration:r,easing:v,scrollBg:n}),[r,v]),ee(()=>{if(!H.current||!d.current||!n)return;if(S)return p.current.style.transform=null;!g&&g!==0&&(g=.8);const T=d.current.getBoundingClientRect();H.current.style.height!==T.height+"px"&&(H.current.style.height=T.height+"px"),T.top<=0&&(H.current.style.transform=`translateY(${Math.floor(-Math.abs(T.top)/4)}px)`)},[g,S,n,H]),c.createElement(P,null,c.createElement("div",{ref:p,className:["fixedWrapper fill"].join(" ")},S||w?c.createElement("div",{ref:H,className:["contents fill",e?"zoom":""].join(" ")}):c.createElement(P,null)),c.createElement("div",{className:"fill overlay",ref:V}))}const K=c.forwardRef((d,r)=>{const{embedUrl:e,stretch:n,mute:g,autoplay:v=!0,controls:w,repeat:k,displayTitle:p,displayDescription:H,trackingName:V}=d,S=A(null);let T,R=e&&e.replace(/(^\w+:|^)\/\//,"").replace(/(\.html|\.js)/,"").split("/"),D=R&&R[R.length-1];D&&D.indexOf("-")&&(T=D.split("-"));const I=T?T[0]:null,x=T?T[1]:null,h=(a,t)=>{Y.send("video","JW player",a,V||e,t)};let m=!1,j=1;const F=[{event:"setupError",callback:({message:a})=>h("setupError",a)},{event:"autostartNotAllowed",callback:()=>h("autostartNotAllowed")},{event:"firstFrame",callback:()=>h("Play")},{event:"time",callback:({currentTime:a,duration:t})=>{a>10&&!m&&(m=!0,h("atTenSeconds")),a>j*t/5&&(h("videoProgress",j*20),j++)}},{event:"pause",callback:()=>h("Pause")},{event:"complete",callback:()=>h("Finished")}];return f(()=>(pe.import(`https://cdn.jwplayer.com/libraries/${x}.js`).then(()=>{let a=jwDefaults.key,t={autostart:!0,cast:{appid:"00000000"},controls:!1,displaydescription:H,displaytitle:p,flashplayer:"//ssl.p.jwpcdn.com/player/v/8.8.4/jwplayer.flash.swf",height:"100%",key:a,mute:g,ph:3,pid:x,playbackRateControls:!1,playlist:`//cdn.jwplayer.com/v2/media/${I}?recommendations_playlist_id=irwrDqTZ`,preload:"auto",repeat:k,stagevideo:!1,stretching:n||"fill",width:"100%"},s=jwplayer(S.current).setup(t);r.current=s;for(const u of F)jwplayer().on(u.event,u.callback)}),()=>{jwplayer(S.current).remove(),r.current=null}),[x,I,n,g,v,w,k,p,H]),e?c.createElement("div",{ref:S,dangerouslySetInnerHTML:{__html:""}}):c.createElement("div",{className:"fill placeholder"},"Please add an embedURL")});function be({hostRef:d,duration:r,cover:e,stretch:n,embedUrl:g,autoplay:v,trackingName:w,videoControls:k,easing:p="linear",playerScript:H,mediaId:V}){const[S,T]=q(E.hidden),R=A(null),D=A(null),[I,x]=q(!0),{disabled:h}=U(),m=A(null);f(()=>ge({container:d.current,content:R.current,overlay:D.current,active:T,duration:r,easing:p}),[r,p]),f(()=>{S||(x(!0),m.current=null)},[S]);const j=a=>{a.stopPropagation(),m.current&&m.current.seek(0)},F=a=>{m.current&&(a.stopPropagation(),m.current.setMute(),x(!I))};return f(()=>{!m.current||(S===E.showing?m.current.play():m.current.pause())},[S]),c.createElement(P,null,c.createElement("div",{ref:R,className:["fixedWrapper fill"].join(" ")},h||S?c.createElement("div",{className:["contents fill"].join(" ")},c.createElement(P,null,k&&c.createElement(P,null,c.createElement("div",{className:"media-controls"},c.createElement(W,{d:I?"mute_icon":"audio_100_icon",onClick:F,className:"mediaIcon audioButton"}),c.createElement(W,{d:"media_restart",onClick:j,className:"mediaIcon restartButton"}),!1)),g&&c.createElement("div",{className:`${e?"fill":""} jw-wrapper`},c.createElement("div",{className:"jw-container"},c.createElement(K,{ref:m,embedUrl:g,stretch:n,autoplay:!0,mute:!0}))),!g&&c.createElement("div",{className:"no-image fill row center-center"},c.createElement("h3",null,"Please select a video")))):c.createElement(P,null)),c.createElement("div",{className:"fill overlay",ref:D}))}}}}),pe.register("pUDRyFQmriE",["vev"],function(Z){"use strict";var c,A;return{setters:[function(f){c=f.useEditorState,A=f.Icon}],execute:function(){Z("youtube",f);function f(_){var P=_.videoId,q=_.hidecontrols,O=_.autoplay,U=_.loop,ie=_.hidefs,Y=c().disabled;if(!P)return ce.createElement("div",{className:"no-video"},ce.createElement(A,{className:"icon",d:"logo"}));var N="https://www.youtube.com/embed/";return P&&(N+=P+"?"),!Y&&O&&(N+="&autoplay=1&mute=1"),q&&(N+="&controls=0"),ie&&(N+="&fs=0"),U&&(N+="&loop=1&playlist="+P),N+="&enablejsapi=1",ce.createElement("iframe",{src:N,allowFullScreen:!0,frameBorder:"0"})}}}})});})();
